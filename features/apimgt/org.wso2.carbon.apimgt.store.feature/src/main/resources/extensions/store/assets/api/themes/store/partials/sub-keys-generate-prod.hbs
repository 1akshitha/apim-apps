<!--Key generation view
    This view is shown when a key has not been generated
 -->
{{#if isDataNotAvailable}}
	<div class='form-group'>
		<label class='custom-form-label col-lg-2 col-md-2 col-sm-12 col-xs-12'>&nbsp;</label>

		<div class='custom-form-right col-lg-5 col-md-8 col-sm-8 col-xs-12'>
			<span class='help-block'>Please subscribe to APIs to view tokens</span>
		</div>
	</div>
{{else}}
	<div class='form-group'>
		<label class='custom-form-label col-lg-2 col-md-2 col-sm-12 col-xs-12'>&nbsp;</label>

		<div class='custom-form-right col-lg-5 col-md-8 col-sm-8 col-xs-12'>
			<span class='help-block'>{{ environment }} keys are not yet generated for this app </span>
			{{#if isScopeAvailable}}
				<button type="button" class="btn btn-primary" data-toggle="modal"
				        data-target="#scopePopup-{{ ../environment }}" id="btn-select-{{ ../environment }}-scopes-view">
					Select Scopes
				</button>
				<div id="scopePopup-{{ ../environment }}" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
								<h4 class="modal-title" id="myModalLabel">Select Scopes</h4>
							</div>
							<div class="modal-body">
								{{#each scopes}}
									<input type="checkbox" name="chk_group_{{ ../environment }}" value="{{scopeKey}}"
									       id="{{scopeKey}}" class="Checkbox_{{ ../environment }}" {{#if checked}}
									       checked {{/if}}> {{scopeName}} : {{scopeKey}}
									<br/>{{/each}}
							</div>

							<div class="modal-footer">
								<input class="btn btn-primary" data-dismiss="modal" type="button" id="scopeSelectButtonPop"
								       value="Select">
								<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
							</div>
						</div>
					</div>
				</div>
				<div id="scopePopup-{{ ../environment }}" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
								<h4 class="modal-title" id="myModalLabel">Select Scopes</h4>
							</div>
							<div class="modal-body">
								{{#each scopes}}
									<input type="checkbox" name="chk_group_{{ ../environment }}" value="{{scopeKey}}"
									       id="{{scopeKey}}" class="Checkbox_{{ ../environment }}" {{#if checked}}
									       checked {{/if}}> {{scopeName}} : {{scopeKey}}
									<br/>{{/each}}
							</div>

							<div class="modal-footer">
								<input class="btn btn-primary" data-dismiss="modal" type="button" id="scopeSelectButtonPop"
								       value="Select">
								<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
							</div>
						</div>
					</div>
				</div>


			{{/if}}
            <div class='defaultBtnSetFor{{ environment }}'>
                <input type='button' class='btn btn-primary' value='Generate keys'
                       id='btn-generate-{{ environment }}-token'/>
            {{#if mapExistingAuthApps}}
                <input type='button' class='btn btn-primary' value='Provide keys' id='btnProvideKey{{ environment }}'/>
            {{/if}}
            </div>
            <div class='cDivParentOfManualAuthAppCreate{{ environment }}' style="display:none">
                <div class="cDivRowOfElements">
                    <div class="cDivTextMappingExternalAuthApp">
                        Consumer key :
                    </div>
                    <div class="cDivInputMappingExternalAuthApp">
                        <input type="text" class="input-xlarge token-validity-input"
                               id="inputConsumerKey{{ environment }}" value="" maxlength="200"
                               autofocus="autofocus"
                               style="margin-top:5px;"/>
                    </div>
                </div>
                <div class="cDivRowOfElements">
                    <div class="cDivTextMappingExternalAuthApp">
                        Consumer secret :
                    </div>
                    <div class="cDivInputMappingExternalAuthApp">
                        <input type="text" class="input-xlarge token-validity-input"
                               id="inputConsumerSecret{{ environment }}" value="" maxlength="200"
                               autofocus="autofocus"
                               style="margin-top:5px;"/>
                    </div>
                </div>
                <input type="button" class="btn btn-primary"
                       id='btnProvideKey{{ environment }}Save' data-application="dummy"
                       data-callbackUrl="dummy"
                       data-keytype="{{ environment }}"
                       data-username="dummy"
                       iteration="200" value="Save"/>
                <input type="button" class="btn btn-primary "
                       id='btnProvideKey{{ environment }}Cancel' value="Cancel"/>
            </div>
		</div>
	</div>
{{/if}}
